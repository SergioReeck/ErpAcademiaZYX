CREATE TABLE [dbo].[ALUNOS] (
    [ID]               INT           IDENTITY (1, 1) NOT NULL,
    [NOME]             VARCHAR (60)  NOT NULL,
    [CPF]              CHAR (11)     NOT NULL,
    [RG]               CHAR (8)      NOT NULL,
    [EMAIL]            VARCHAR (100) NOT NULL,
    [DATANASCIMENTO] DATE          NOT NULL,
    [DATAMATRICULA]  DATETIME2 (7) NOT NULL,
    [RUA]              VARCHAR (60)  NOT NULL,
    [NUMERO]           VARCHAR (5)   NULL,
    [BAIRRO]           VARCHAR (20)  NOT NULL,
    [CIDADE]           VARCHAR (30)  NOT NULL,
    [CEP]              VARCHAR (8)   NOT NULL,
    [UF]               CHAR (2)      NOT NULL,
    [COMPLEMENTO]      VARCHAR (30)  NULL,
    [TELEFONE1]        VARCHAR (13)  NOT NULL,
    [TELEFONE2]        VARCHAR (13)  NOT NULL,
    PRIMARY KEY CLUSTERED ([ID] ASC),
    UNIQUE NONCLUSTERED ([NOME] ASC),
    UNIQUE NONCLUSTERED ([CPF] ASC),
    UNIQUE NONCLUSTERED ([RG] ASC),
    UNIQUE NONCLUSTERED ([EMAIL] ASC)
);

CREATE TABLE [dbo].[CATEGORIAS] (
    [ID]        INT IDENTITY (1, 1) NOT NULL,
    [DESCRICAO] INT NOT NULL,
    PRIMARY KEY CLUSTERED ([ID] ASC)
);

CREATE TABLE [dbo].[CREDENCIAIS] (
    [ID]               INT          IDENTITY (1, 1) NOT NULL,
    [NOME]             VARCHAR (60) NOT NULL,
    [EMAIL]            VARCHAR (50) NOT NULL,
    [SENHA]            VARCHAR (30) NOT NULL,
    [TIPODECREDENCIAL] INT          DEFAULT ((0)) NOT NULL,
    PRIMARY KEY CLUSTERED ([ID] ASC),
    UNIQUE NONCLUSTERED ([EMAIL] ASC)
);

CREATE TABLE [dbo].[ENTRADA_PRODUTO] (
    [ID]          INT           IDENTITY (1, 1) NOT NULL,
    [DATAENTRADA] DATETIME2 (7) NOT NULL,
    [CREDENCIAL]  INT           NOT NULL,
    [VALOR]       FLOAT (53)    NOT NULL,
    PRIMARY KEY CLUSTERED ([ID] ASC)
);

CREATE TABLE [dbo].[FORMAS_PAGAMENTO] (
    [ID]        INT          IDENTITY (1, 1) NOT NULL,
    [DESCRICAO] VARCHAR (40) NOT NULL,
    PRIMARY KEY CLUSTERED ([ID] ASC),
    UNIQUE NONCLUSTERED ([DESCRICAO] ASC)
);

CREATE TABLE [dbo].[ITENS_ENTRADA_PRODUTO] (
    [IDENTRADA]  INT        NULL,
    [IDPRODUTO]  INT        NULL,
    [QUANTIDADE] FLOAT (53) NOT NULL,
    [VALOR]      FLOAT (53) NOT NULL,
    FOREIGN KEY ([IDPRODUTO]) REFERENCES [dbo].[PRODUTOS] ([ID])
);

CREATE TABLE [dbo].[ITENS_VENDA_PRODUTO] (
    [IDVENDA]    INT        NULL,
    [IDPRODUTO]  INT        NULL,
    [QUANTIDADE] FLOAT (53) NOT NULL,
    [VALOR]      FLOAT (53) NOT NULL,
    FOREIGN KEY ([IDPRODUTO]) REFERENCES [dbo].[PRODUTOS] ([ID])
);

CREATE TABLE [dbo].[MODALIDADES] (
    [ID]        INT          IDENTITY (1, 1) NOT NULL,
    [DESCRICAO] VARCHAR (30) NOT NULL,
    [VALOR]     FLOAT (53)   NOT NULL,
    PRIMARY KEY CLUSTERED ([ID] ASC),
    UNIQUE NONCLUSTERED ([DESCRICAO] ASC)
);

CREATE TABLE [dbo].[PLANO_ALUNO_PROFESSOR] (
    [ID]          INT IDENTITY (1, 1) NOT NULL,
    [CLIENTE]     INT NOT NULL,
    [FUNCIONARIO] INT NOT NULL,
    [PLANO]       INT NOT NULL,
    PRIMARY KEY CLUSTERED ([ID] ASC),
    FOREIGN KEY ([CLIENTE]) REFERENCES [dbo].[CLIENTES] ([ID]),
    FOREIGN KEY ([FUNCIONARIO]) REFERENCES [dbo].[FUNCIONARIOS] ([ID]),
    FOREIGN KEY ([PLANO]) REFERENCES [dbo].[PLANOS] ([ID])
);

CREATE TABLE [dbo].[PLANOS] (
    [ID]         INT        IDENTITY (1, 1) NOT NULL,
    [MODALIDADE] INT        NOT NULL,
    [FREQUENCIA] INT        NOT NULL,
    [VALOR]      FLOAT (53) NOT NULL,
    PRIMARY KEY CLUSTERED ([ID] ASC),
    FOREIGN KEY ([MODALIDADE]) REFERENCES [dbo].[MODALIDADES] ([ID])
);

CREATE TABLE [dbo].[PRODUTOS] (
    [ID]          INT           IDENTITY (1, 1) NOT NULL,
    [DESCRICAO]   VARCHAR (100) NOT NULL,
    [VALORCUSTO]  FLOAT (53)    NOT NULL,
    [VALORVENDA]  FLOAT (53)    NOT NULL,
    [ESTOQUE]     FLOAT (53)    NOT NULL,
    [CATEGORIAID] INT           NOT NULL,
    PRIMARY KEY CLUSTERED ([ID] ASC),
    FOREIGN KEY ([CATEGORIAID]) REFERENCES [dbo].[CATEGORIAS] ([ID])
);

CREATE TABLE [dbo].[PROFESSORES] (
    [ID]             INT           IDENTITY (1, 1) NOT NULL,
    [NOME]           VARCHAR (60)  NOT NULL,
    [CPF]            CHAR (11)     NOT NULL,
    [RG]             CHAR (8)      NOT NULL,
    [EMAIL]          VARCHAR (100) NOT NULL,
    [DATANASCIMENTO] DATE          NOT NULL,
    [RUA]            VARCHAR (60)  NOT NULL,
    [NUMERO]         VARCHAR (5)   NULL,
    [BAIRRO]         VARCHAR (20)  NOT NULL,
    [CIDADE]         VARCHAR (30)  NOT NULL,
    [COMPLEMENTO]    VARCHAR (30)  NULL,
    [CEP]            VARCHAR (8)   NOT NULL,
    [UF]             CHAR (2)      NOT NULL,
    [TELEFONE]       VARCHAR (13)  NOT NULL,
    [SALARIO]        FLOAT (53)    NOT NULL,
    [COMISSAO]       FLOAT (53)    NOT NULL,
    PRIMARY KEY CLUSTERED ([ID] ASC),
    UNIQUE NONCLUSTERED ([EMAIL] ASC),
    UNIQUE NONCLUSTERED ([RG] ASC),
    UNIQUE NONCLUSTERED ([CPF] ASC),
    UNIQUE NONCLUSTERED ([NOME] ASC),
    UNIQUE NONCLUSTERED ([TELEFONE] ASC)
);

CREATE TABLE [dbo].[VENDA_PRODUTO] (
    [ID]         INT           IDENTITY (1, 1) NOT NULL,
    [DATAVENDA]  DATETIME2 (7) NOT NULL,
    [CREDENCIAL] INT           NOT NULL,
    [VALOR]      FLOAT (53)    NOT NULL,
    [ALUNO]    INT           NOT NULL,
    PRIMARY KEY CLUSTERED ([ID] ASC),
    FOREIGN KEY ([ALUNO]) REFERENCES [dbo].[ALUNOS] ([ID])
);







